{"ast":null,"code":"var _jsxFileName = \"/var/www/html/dummy_applications/3rd_party_login/src/components/user/Help/getHelp.component.js\";\nimport React, { useEffect, useState } from 'react';\nimport User from '../../../layouts/user.layout';\nimport axios from 'axios';\nimport helpers from '../../../helpers/helper';\nconst GetHelp = () => {\n  const keys = {\n    message: ''\n  };\n  const [form, setForm] = useState(keys);\n  const [formErr, setFormErr] = useState(keys);\n  const [conversation, setConversation] = useState({});\n  const getAllMessages = () => {\n    axios.get(`${process.env.REACT_APP_USER_BASE_URL}/user-conversations/${helpers.getAdminName()}`, helpers.getHeaders()).then(res => {\n      console.log(res);\n      setConversation(res.data.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm({\n      ...form,\n      [name]: value\n    });\n  };\n  const handleSubmit = () => {\n    // console.log(form);\n    let error = null;\n    if (form.message == '') {\n      error = true;\n      setFormErr({\n        ...formErr,\n        message: 'Please fill the message'\n      });\n    }\n    if (!error) {\n      axios.post(`${process.env.REACT_APP_USER_BASE_URL}/user-admin-chat`, form, helpers.getHeaders()).then(res => {\n        if (res.data.message) {\n          setForm(keys);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n  useEffect(() => {\n    getAllMessages();\n  }, []);\n  return /*#__PURE__*/React.createElement(User, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Chat With us\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container msgContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  },\n  // console.log(conversation)\n  Object.keys(conversation).length > 0 &&\n  /*#__PURE__*/\n  // console.log(conversation.user_one[0])\n  React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8\",\n    style: {\n      textAlign: 'end'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, conversation.user_conversation[0].title, \" - You\"), helpers.getCurrentUser(), conversation.user_conversation[0].messages.map(item => {\n    var _helpers$getCurrentUs;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      style: {\n        textAlign: 'end'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 33\n      }\n    }, item === null || item === void 0 ? void 0 : item.reply, \" - \", ((_helpers$getCurrentUs = helpers.getCurrentUser()) === null || _helpers$getCurrentUs === void 0 ? void 0 : _helpers$getCurrentUs.id) == (item === null || item === void 0 ? void 0 : item.user_id) ? 'You' : 'Admin');\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"chatBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-7\",\n    style: {\n      textAlign: 'end'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"message\",\n    placeholder: \"type you message\",\n    onChange: handleChange,\n    value: form === null || form === void 0 ? void 0 : form.message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 137\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, formErr === null || formErr === void 0 ? void 0 : formErr.message)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, \"Add\")))))));\n};\nexport default GetHelp;","map":{"version":3,"names":["React","useEffect","useState","User","axios","helpers","GetHelp","keys","message","form","setForm","formErr","setFormErr","conversation","setConversation","getAllMessages","get","process","env","REACT_APP_USER_BASE_URL","getAdminName","getHeaders","then","res","console","log","data","catch","err","handleChange","e","name","value","target","handleSubmit","error","post","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","Object","length","style","textAlign","user_conversation","title","getCurrentUser","messages","map","item","_helpers$getCurrentUs","reply","id","user_id","type","placeholder","onChange","color","onClick"],"sources":["/var/www/html/dummy_applications/3rd_party_login/src/components/user/Help/getHelp.component.js"],"sourcesContent":["import React, { useEffect,useState } from 'react';\nimport User from '../../../layouts/user.layout';\nimport axios from 'axios';\nimport helpers from '../../../helpers/helper';\n  const GetHelp = () =>  {\n    const keys = {message:''};\n    const [form,setForm] = useState(keys);\n    const [formErr,setFormErr] = useState(keys);\n    const [conversation,setConversation] = useState({});\n\n    const getAllMessages = () => {\n        axios.get(`${process.env.REACT_APP_USER_BASE_URL}/user-conversations/${helpers.getAdminName()}`,helpers.getHeaders())\n            .then((res)=>{\n               console.log(res);\n               setConversation(res.data.data)\n            }).catch((err)=>{\n                console.log(err);\n            });\n    }\n    const handleChange = (e) => {\n        const {name,value} = e.target;\n        setForm({...form,[name]:value})\n    }\n    const handleSubmit = () => {\n        // console.log(form);\n        let error = null;\n        if(form.message == '')\n        {\n            error = true;\n            setFormErr({...formErr,message:'Please fill the message'})\n        }\n        if(!error){\n            axios.post(`${process.env.REACT_APP_USER_BASE_URL}/user-admin-chat`,form,helpers.getHeaders())\n            .then((res)=>{\n                if(res.data.message){\n                    setForm(keys);\n                }\n            }).catch((err)=>{\n                console.log(err);\n            });\n        }\n    }\n    useEffect(()=>{\n        getAllMessages();\n    },[]);\n\treturn (\n      <User>\n\t    <div className='container'>\n            <h2 className='text-center'>Chat With us</h2>\n            <div className='container msgContainer'>\n                {\n                    // console.log(conversation)\n                    Object.keys(conversation).length > 0 && \n                    // console.log(conversation.user_one[0])\n                    <div className='row'>\n                        <div className='col-md-8' style={{textAlign:'end'}}>\n                            {conversation.user_conversation[0].title} - You\n                        </div>{helpers.getCurrentUser()}\n                        {conversation.user_conversation[0].messages.map(item=>\n                                <div className='col-md-8' style={{textAlign:'end'}}>\n                                    {item?.reply} - {helpers.getCurrentUser()?.id == item?.user_id ? 'You':'Admin'}\n                                </div>\n                            )\n                        }\n                    </div>\n                }\n                <form className='chatBox'>\n                    <div className='row mt-5'>\n                        {/* <label className='col-md-2'>Type you Message</label> */}\n                        <div className='col-md-7' style={{textAlign: 'end'}}>\n                        <input type='text' name='message' placeholder='type you message' onChange={handleChange} value={form?.message}/><br></br>\n                        <span style={{color:'red'}}>{formErr?.message}</span>\n                        </div>\n                        <div className='col-md-3'>\n                            <button type=\"button\" className='btn btn-primary' onClick={handleSubmit}>Add</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n\t    </div>\n      </User>\n\t);\n  }\n  \n  export default GetHelp;\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}