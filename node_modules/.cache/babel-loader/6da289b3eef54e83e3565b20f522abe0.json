{"ast":null,"code":"var _jsxFileName = \"/var/www/html/dummy_applications/3rd_party_login/src/components/payment/PaymentComponent.js\";\nimport React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport { useStripe, useElements, CardNumberElement, CardExpiryElement, CardCvcElement, stripePower } from '@stripe/react-stripe-js';\nimport Swal from 'sweetalert2';\nconst PaymentComponent = ({\n  amount\n}) => {\n  const stripe = useStripe();\n  const elements = useElements();\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [cardToken, setCardToken] = useState(null);\n  const navigate = useNavigate();\n  const cardStyle = {\n    style: {\n      base: {\n        color: '#32325d',\n        fontFamily: 'Arial, sans-serif',\n        fontSmoothing: 'antialiased',\n        fontSize: '16px',\n        '::placeholder': {\n          color: '#aab7c4'\n        }\n      },\n      invalid: {\n        color: '#fa755a',\n        iconColor: '#fa755a'\n      }\n    }\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!stripe || !elements) {\n      return;\n    }\n    const cardElement = elements.getElement(CardNumberElement);\n    try {\n      const {\n        token\n      } = await stripe.createToken(cardElement);\n      if (!token) {\n        Swal.fire('Please fill card right information first', '', 'error');\n        return;\n      }\n      const userToken = localStorage.getItem('token');\n      const data = {\n        amount: amount * 100,\n        // Amount in cents\n        token\n      };\n      axios.post(`${process.env.REACT_APP_USER_BASE_URL}/payment`, data, {\n        headers: {\n          Authorization: `Bearer ${userToken}`\n        }\n      }).then(response => {\n        Swal.fire('Payment successfully received', '', 'success').then(res => {\n          navigate('/user-dashboard');\n        });\n      });\n    } catch (error) {\n      console.log('error');\n      Swal.fire('Payment is failed', '', 'error');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"payment_form mt-3\",\n    style: {\n      textAlign: 'end'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Card Number\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardNumberElement, {\n    options: cardStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Expiry Date\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardExpiryElement, {\n    options: cardStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"CVV\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardCvcElement, {\n    options: cardStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    disabled: !stripe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 41\n    }\n  }, \"Pay $\", amount)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  })), error && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, error));\n};\nexport default PaymentComponent;","map":{"version":3,"names":["React","useState","useNavigate","axios","useStripe","useElements","CardNumberElement","CardExpiryElement","CardCvcElement","stripePower","Swal","PaymentComponent","amount","stripe","elements","error","setError","success","setSuccess","cardToken","setCardToken","navigate","cardStyle","style","base","color","fontFamily","fontSmoothing","fontSize","invalid","iconColor","handleSubmit","event","preventDefault","cardElement","getElement","token","createToken","fire","userToken","localStorage","getItem","data","post","process","env","REACT_APP_USER_BASE_URL","headers","Authorization","then","response","res","console","log","createElement","onSubmit","className","textAlign","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","options","type","disabled"],"sources":["/var/www/html/dummy_applications/3rd_party_login/src/components/payment/PaymentComponent.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport {useStripe, useElements,CardNumberElement,CardExpiryElement, CardCvcElement,stripePower } from '@stripe/react-stripe-js';\nimport Swal from 'sweetalert2';\n\nconst PaymentComponent = ({amount}) =>  {\n    const stripe = useStripe();\n    const elements = useElements();\n    const [error, setError] = useState(null);\n    const [success, setSuccess] = useState(null);\n    const [cardToken,setCardToken] = useState(null);\n    const navigate = useNavigate();\n    const cardStyle = {\n      style: {\n        base: {\n          color: '#32325d',\n          fontFamily: 'Arial, sans-serif',\n          fontSmoothing: 'antialiased',\n          fontSize: '16px',\n          '::placeholder': {\n            color: '#aab7c4',\n          },\n        },\n        invalid: {\n          color: '#fa755a',\n          iconColor: '#fa755a',\n        },\n      },\n    };\n\n    const handleSubmit = async (event) => {\n      event.preventDefault();\n      if (!stripe || !elements) {\n        return;\n      }\n      const cardElement = elements.getElement(CardNumberElement);\n      try {\n        const {token}  = await stripe.createToken(cardElement);\n        if(!token)\n        {\n          Swal.fire('Please fill card right information first', '', 'error');\n          return;\n        }\n        const userToken = localStorage.getItem('token');\n        const data =  {\n                        amount: amount * 100, // Amount in cents\n                        token,\n                      };\n        axios.post(`${process.env.REACT_APP_USER_BASE_URL}/payment`,\n          data,\n          {\n            headers : {Authorization:`Bearer ${userToken}`}\n          })\n        .then((response) => {\n          Swal.fire('Payment successfully received', '', 'success').then((res)=>{\n            navigate('/user-dashboard');\n          });\n        });\n      \n      } catch (error) {\n        console.log('error')\n        Swal.fire('Payment is failed', '', 'error');\n      }\n    };\n\treturn (\n        <form onSubmit={handleSubmit} className='payment_form mt-3' style={{textAlign:'end'}}>\n          <div className='row'>\n            <label className='col-md-2'>Card Number</label>\n              <div className='col-md-6'><CardNumberElement options={cardStyle} /></div>\n          </div>\n          <div className='row mt-2'>\n            <label className='col-md-2'>Expiry Date</label>\n              <div className='col-md-6'><CardExpiryElement options={cardStyle} /></div>\n          </div>\n          <div className='row mt-2'>\n            <label className='col-md-2'>CVV</label>\n              <div className='col-md-6'><CardCvcElement options={cardStyle} /></div>\n          </div>\n          <div className='row mt-2'>\n              <div className='col-md-3'><button type=\"submit\" className='btn btn-primary' disabled={!stripe}>Pay ${amount}</button></div>\n              <div className='col-md-5'></div>\n          </div>\n          {error && <div>{error}</div>}\n        </form>\n\t);\n}\n  \nexport default PaymentComponent;\n  "],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,SAAS,EAAEC,WAAW,EAACC,iBAAiB,EAACC,iBAAiB,EAAEC,cAAc,EAACC,WAAW,QAAQ,yBAAyB;AAC/H,OAAOC,IAAI,MAAM,aAAa;AAE9B,MAAMC,gBAAgB,GAAGA,CAAC;EAACC;AAAM,CAAC,KAAM;EACpC,MAAMC,MAAM,GAAGT,SAAS,CAAC,CAAC;EAC1B,MAAMU,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,SAAS,EAACC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC/C,MAAMoB,QAAQ,GAAGnB,WAAW,CAAC,CAAC;EAC9B,MAAMoB,SAAS,GAAG;IAChBC,KAAK,EAAE;MACLC,IAAI,EAAE;QACJC,KAAK,EAAE,SAAS;QAChBC,UAAU,EAAE,mBAAmB;QAC/BC,aAAa,EAAE,aAAa;QAC5BC,QAAQ,EAAE,MAAM;QAChB,eAAe,EAAE;UACfH,KAAK,EAAE;QACT;MACF,CAAC;MACDI,OAAO,EAAE;QACPJ,KAAK,EAAE,SAAS;QAChBK,SAAS,EAAE;MACb;IACF;EACF,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,KAAK,IAAK;IACpCA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,IAAI,CAACpB,MAAM,IAAI,CAACC,QAAQ,EAAE;MACxB;IACF;IACA,MAAMoB,WAAW,GAAGpB,QAAQ,CAACqB,UAAU,CAAC7B,iBAAiB,CAAC;IAC1D,IAAI;MACF,MAAM;QAAC8B;MAAK,CAAC,GAAI,MAAMvB,MAAM,CAACwB,WAAW,CAACH,WAAW,CAAC;MACtD,IAAG,CAACE,KAAK,EACT;QACE1B,IAAI,CAAC4B,IAAI,CAAC,0CAA0C,EAAE,EAAE,EAAE,OAAO,CAAC;QAClE;MACF;MACA,MAAMC,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC/C,MAAMC,IAAI,GAAI;QACE9B,MAAM,EAAEA,MAAM,GAAG,GAAG;QAAE;QACtBwB;MACF,CAAC;MACfjC,KAAK,CAACwC,IAAI,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB,UAAU,EACzDJ,IAAI,EACJ;QACEK,OAAO,EAAG;UAACC,aAAa,EAAC,UAAUT,SAAS;QAAE;MAChD,CAAC,CAAC,CACHU,IAAI,CAAEC,QAAQ,IAAK;QAClBxC,IAAI,CAAC4B,IAAI,CAAC,+BAA+B,EAAE,EAAE,EAAE,SAAS,CAAC,CAACW,IAAI,CAAEE,GAAG,IAAG;UACpE9B,QAAQ,CAAC,iBAAiB,CAAC;QAC7B,CAAC,CAAC;MACJ,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAON,KAAK,EAAE;MACdqC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACpB3C,IAAI,CAAC4B,IAAI,CAAC,mBAAmB,EAAE,EAAE,EAAE,OAAO,CAAC;IAC7C;EACF,CAAC;EACJ,oBACOtC,KAAA,CAAAsD,aAAA;IAAMC,QAAQ,EAAExB,YAAa;IAACyB,SAAS,EAAC,mBAAmB;IAACjC,KAAK,EAAE;MAACkC,SAAS,EAAC;IAAK,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnF/D,KAAA,CAAAsD,aAAA;IAAKE,SAAS,EAAC,KAAK;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClB/D,KAAA,CAAAsD,aAAA;IAAOE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,aAAkB,CAAC,eAC7C/D,KAAA,CAAAsD,aAAA;IAAKE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAC/D,KAAA,CAAAsD,aAAA,CAAChD,iBAAiB;IAAC0D,OAAO,EAAE1C,SAAU;IAAAoC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAM,CACvE,CAAC,eACN/D,KAAA,CAAAsD,aAAA;IAAKE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvB/D,KAAA,CAAAsD,aAAA;IAAOE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,aAAkB,CAAC,eAC7C/D,KAAA,CAAAsD,aAAA;IAAKE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAC/D,KAAA,CAAAsD,aAAA,CAAC/C,iBAAiB;IAACyD,OAAO,EAAE1C,SAAU;IAAAoC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAM,CACvE,CAAC,eACN/D,KAAA,CAAAsD,aAAA;IAAKE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvB/D,KAAA,CAAAsD,aAAA;IAAOE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,KAAU,CAAC,eACrC/D,KAAA,CAAAsD,aAAA;IAAKE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAC/D,KAAA,CAAAsD,aAAA,CAAC9C,cAAc;IAACwD,OAAO,EAAE1C,SAAU;IAAAoC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAM,CACpE,CAAC,eACN/D,KAAA,CAAAsD,aAAA;IAAKE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACrB/D,KAAA,CAAAsD,aAAA;IAAKE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAC/D,KAAA,CAAAsD,aAAA;IAAQW,IAAI,EAAC,QAAQ;IAACT,SAAS,EAAC,iBAAiB;IAACU,QAAQ,EAAE,CAACrD,MAAO;IAAA6C,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAAK,EAACnD,MAAe,CAAM,CAAC,eAC3HZ,KAAA,CAAAsD,aAAA;IAAKE,SAAS,EAAC,UAAU;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAM,CAC9B,CAAC,EACLhD,KAAK,iBAAIf,KAAA,CAAAsD,aAAA;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAMhD,KAAW,CACvB,CAAC;AAEf,CAAC;AAED,eAAeJ,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module"}