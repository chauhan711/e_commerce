{"ast":null,"code":"var _jsxFileName = \"/var/www/html/dummy_applications/3rd_party_login/src/components/paypal/payment.payal.js\";\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\nimport Swal from 'sweetalert2';\nconst Payment = () => {\n  const token = localStorage.getItem('token');\n  function createOrder() {\n    return fetch(`${process.env.REACT_APP_USER_BASE_URL}/create-payment-paypal`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => response.json()).then(order => order.orderID);\n  }\n  function onApprove(data) {\n    return fetch(`${process.env.REACT_APP_USER_BASE_URL}/capture-paypal-order`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        orderID: data.orderID\n      })\n    }).then(response => response.json()).then(orderData => {\n      // console.log(orderData.result.);\n      const name = orderData.result.payer.name.given_name;\n      Swal.fire({\n        title: `Transaction completed by ${name}`,\n        showConfirmButton: true,\n        confirmButtonText: \"OK\",\n        icon: 'success'\n      }).then(res => {\n        useNavigate('/cart');\n      });\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PayPalScriptProvider, {\n    options: {\n      clientId: \"AXzXikAFC3jt6oOOE6VqajfrUF3wX-gVcd7DA4wan26noU8uG2cVeElNa60kcWR-PJUgIIZ__LG0W3Y7\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PayPalButtons, {\n    createOrder: createOrder,\n    onApprove: onApprove,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  })));\n};\nexport default Payment;","map":{"version":3,"names":["React","useState","useNavigate","PayPalScriptProvider","PayPalButtons","Swal","Payment","token","localStorage","getItem","createOrder","fetch","process","env","REACT_APP_USER_BASE_URL","method","headers","Authorization","then","response","json","order","orderID","onApprove","data","body","JSON","stringify","orderData","name","result","payer","given_name","fire","title","showConfirmButton","confirmButtonText","icon","res","createElement","key","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","options","clientId"],"sources":["/var/www/html/dummy_applications/3rd_party_login/src/components/paypal/payment.payal.js"],"sourcesContent":["import React,{useState} from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\nimport Swal from 'sweetalert2';\n\nconst Payment = () =>  {\n    const token =  localStorage.getItem('token');\n    function createOrder() {\n        return fetch(`${process.env.REACT_APP_USER_BASE_URL}/create-payment-paypal`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization:`Bearer ${token}`\n            },\n            \n        })\n            .then((response) => response.json())\n            .then((order) => order.orderID);\n    }\n    function onApprove(data) {\n        return fetch(`${process.env.REACT_APP_USER_BASE_URL}/capture-paypal-order`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization:`Bearer ${token}`\n          },\n          body: JSON.stringify({\n            orderID: data.orderID\n          })\n        })\n        .then((response) => response.json())\n        .then((orderData) => {\n            // console.log(orderData.result.);\n            const name = orderData.result.payer.name.given_name;\n            Swal.fire({\n                title: `Transaction completed by ${name}`,\n                showConfirmButton: true,\n                confirmButtonText: \"OK\",\n                icon: 'success'\n            }).then((res)=>{\n                useNavigate('/cart');\n            });\n        });\n    \n    }\n    \n    return (\n        <div key={1}>\n            <PayPalScriptProvider options={{ clientId: \"AXzXikAFC3jt6oOOE6VqajfrUF3wX-gVcd7DA4wan26noU8uG2cVeElNa60kcWR-PJUgIIZ__LG0W3Y7\" }}>\n                <PayPalButtons createOrder={createOrder} onApprove={onApprove}/>\n            </PayPalScriptProvider>\n        </div>\n    );\n}\n\n  export default Payment;\n  "],"mappings":";AAAA,OAAOA,KAAK,IAAEC,QAAQ,QAAO,OAAO;AACpC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,oBAAoB,EAAEC,aAAa,QAAQ,yBAAyB;AAC7E,OAAOC,IAAI,MAAM,aAAa;AAE9B,MAAMC,OAAO,GAAGA,CAAA,KAAO;EACnB,MAAMC,KAAK,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC5C,SAASC,WAAWA,CAAA,EAAG;IACnB,OAAOC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB,wBAAwB,EAAE;MACzEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAC,UAAUV,KAAK;MACjC;IAEJ,CAAC,CAAC,CACGW,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,KAAK,IAAKA,KAAK,CAACC,OAAO,CAAC;EACvC;EACA,SAASC,SAASA,CAACC,IAAI,EAAE;IACrB,OAAOb,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB,uBAAuB,EAAE;MAC1EC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAC,UAAUV,KAAK;MAC/B,CAAC;MACDkB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBL,OAAO,EAAEE,IAAI,CAACF;MAChB,CAAC;IACH,CAAC,CAAC,CACDJ,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEU,SAAS,IAAK;MACjB;MACA,MAAMC,IAAI,GAAGD,SAAS,CAACE,MAAM,CAACC,KAAK,CAACF,IAAI,CAACG,UAAU;MACnD3B,IAAI,CAAC4B,IAAI,CAAC;QACNC,KAAK,EAAE,4BAA4BL,IAAI,EAAE;QACzCM,iBAAiB,EAAE,IAAI;QACvBC,iBAAiB,EAAE,IAAI;QACvBC,IAAI,EAAE;MACV,CAAC,CAAC,CAACnB,IAAI,CAAEoB,GAAG,IAAG;QACXpC,WAAW,CAAC,OAAO,CAAC;MACxB,CAAC,CAAC;IACN,CAAC,CAAC;EAEN;EAEA,oBACIF,KAAA,CAAAuC,aAAA;IAAKC,GAAG,EAAE,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACR9C,KAAA,CAAAuC,aAAA,CAACpC,oBAAoB;IAAC4C,OAAO,EAAE;MAAEC,QAAQ,EAAE;IAAmF,CAAE;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5H9C,KAAA,CAAAuC,aAAA,CAACnC,aAAa;IAACM,WAAW,EAAEA,WAAY;IAACa,SAAS,EAAEA,SAAU;IAAAkB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAC,CAC7C,CACrB,CAAC;AAEd,CAAC;AAEC,eAAexC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}